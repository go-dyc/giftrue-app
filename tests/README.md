# Giftrue E2E Tests

Playwrightë¥¼ ì‚¬ìš©í•œ ì¢…ë‹¨ê°„ í…ŒìŠ¤íŠ¸ ëª¨ìŒì…ë‹ˆë‹¤.

## ğŸ“‹ í…ŒìŠ¤íŠ¸ ëª©ë¡

### `basic-smoke.spec.js`
- ê¸°ë³¸ ì„œë²„ ì‘ë‹µ í™•ì¸
- ê´€ë¦¬ì ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ê·¼ í…ŒìŠ¤íŠ¸

### `admin-login.spec.js`
- ê´€ë¦¬ì ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥
- ì¸ì¦ ì‹¤íŒ¨ ì²˜ë¦¬
- ê¶Œí•œ í™•ì¸

### `order-flow.spec.js`
- ê³ ê° ì£¼ë¬¸ 3ë‹¨ê³„ í”Œë¡œìš°
- ì£¼ë¬¸ ê²€ì¦ í”„ë¡œì„¸ìŠ¤
- ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ë¡œì»¬ ê°œë°œ í™˜ê²½

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:e2e

# UI ëª¨ë“œë¡œ ì‹¤í–‰ (ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸ í™•ì¸)
npm run test:e2e:ui

# ë””ë²„ê·¸ ëª¨ë“œë¡œ ì‹¤í–‰
npm run test:e2e:debug

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
npm run test:e2e -- tests/basic-smoke.spec.js

# í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ë³´ê¸°
npm run test:e2e:report
```

### í•„ìˆ˜ ì¡°ê±´

1. **ì‹œìŠ¤í…œ ì˜ì¡´ì„± ì„¤ì¹˜** (Ubuntu/WSL):
   ```bash
   sudo apt-get install libnspr4 libnss3 libasound2t64
   # ë˜ëŠ”
   sudo npx playwright install-deps
   ```

2. **Rails ì„œë²„ ì‹¤í–‰** (í…ŒìŠ¤íŠ¸ í™˜ê²½):
   ```bash
   RAILS_ENV=test rails db:migrate
   RAILS_ENV=test rails server -p 3001
   ```

3. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**:
   ```bash
   export ADMIN_USERNAME=admin
   export ADMIN_PASSWORD=password123
   ```

### Dockerì—ì„œ ì‹¤í–‰

```bash
# Dockerfile.playwright ìƒì„± í›„
docker build -f Dockerfile.playwright -t giftrue-e2e .
docker run --rm giftrue-e2e
```

## ğŸ”§ ì„¤ì •

### `playwright.config.js`
- í…ŒìŠ¤íŠ¸ íƒ€ì„ì•„ì›ƒ: 30ì´ˆ
- ì¬ì‹œë„ íšŸìˆ˜: CIì—ì„œ 2íšŒ, ë¡œì»¬ì—ì„œ 0íšŒ
- ë¸Œë¼ìš°ì €: Chrome (ë°ìŠ¤í¬í†±), Chrome (ëª¨ë°”ì¼)
- ì„œë²„: localhost:3001 (í…ŒìŠ¤íŠ¸ í™˜ê²½)

### CI/CD í†µí•©
- GitHub Actions: `.github/workflows/playwright.yml`
- ìë™ ì˜ì¡´ì„± ì„¤ì¹˜
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤
- í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì•„í‹°íŒ©íŠ¸ ì €ì¥

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

í˜„ì¬ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€:
- âœ… ê´€ë¦¬ì ë¡œê·¸ì¸/ì¸ì¦
- âœ… ê¸°ë³¸ í˜ì´ì§€ ì ‘ê·¼ì„±
- âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜• UI
- ğŸš§ ì£¼ë¬¸ í”Œë¡œìš° (íŒŒì¼ ì—…ë¡œë“œ ì œì™¸)
- ğŸš§ AI ë¬¸êµ¬ ìƒì„± ê¸°ëŠ¥
- ğŸš§ ì´ë¯¸ì§€ ì—…ë¡œë“œ í”„ë¡œì„¸ìŠ¤

## ğŸ› ì•Œë ¤ì§„ ë¬¸ì œ

1. **ì‹œìŠ¤í…œ ì˜ì¡´ì„±**: WSL/Ubuntuì—ì„œ ë¸Œë¼ìš°ì € ì‹¤í–‰ì„ ìœ„í•œ ì¶”ê°€ íŒ¨í‚¤ì§€ í•„ìš”
2. **íŒŒì¼ ì—…ë¡œë“œ**: ì‹¤ì œ íŒŒì¼ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸ëŠ” ë³„ë„ ì„¤ì • í•„ìš”
3. **ë°ì´í„°ë² ì´ìŠ¤**: í…ŒìŠ¤íŠ¸ ê°„ ë°ì´í„° ê²©ë¦¬ ê°œì„  í•„ìš”

## ğŸ“ í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ

ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œ ê³ ë ¤ì‚¬í•­:

1. **í…ŒìŠ¤íŠ¸ ê²©ë¦¬**: ê° í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•¨
2. **ëŒ€ê¸° ì¡°ê±´**: `await expect()` ì‚¬ìš©ìœ¼ë¡œ ì ì ˆí•œ ëŒ€ê¸°
3. **ëª¨ë°”ì¼ ì§€ì›**: ë°˜ì‘í˜• ë””ìì¸ í…ŒìŠ¤íŠ¸ í¬í•¨
4. **ì—ëŸ¬ ì²˜ë¦¬**: ì‹¤íŒ¨ ì¼€ì´ìŠ¤ë„ í•¨ê»˜ í…ŒìŠ¤íŠ¸
5. **ì„±ëŠ¥**: ë¶ˆí•„ìš”í•œ ëŒ€ê¸° ì‹œê°„ ìµœì†Œí™”

ì˜ˆì‹œ:
```javascript
test('ìƒˆë¡œìš´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸', async ({ page }) => {
  await page.goto('/feature');
  await expect(page.locator('h1')).toContainText('Feature');
  
  // ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸
  await page.setViewportSize({ width: 375, height: 667 });
  await expect(page.locator('.mobile-nav')).toBeVisible();
});
```